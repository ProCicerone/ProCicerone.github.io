<!DOCTYPE html>
<html>
    <head>
    {% include head.html%}
    <link rel="stylesheet" type="text/css" href="{{site.baseurl}}/css/versioni.css">
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script> 
        function prendiClasse(selettore) {
            return selettore.attr('class').substr(8); // super bad hack, valid only for triggers
        }
        function cleanUp() {
            $('[class*="highlight"]').removeClass(function(i, c) {
                return c.match(/highlight-.*/g).join(" ");
            }) 
        }
        $(document).ready(function(){
            $('.trigger').click(function (){
                    if ($(this).hasClass('clicked')) {
                        cleanUp();
                        $(this).removeClass('clicked');
                    } else {
                        cleanUp();
                        $('.trigger').removeClass('clicked');
                        $('.target.' + prendiClasse($(this))).addClass('highlight' + '-' + prendiClasse($(this)));
                        $(this).addClass('clicked');
                        if ($('.target.' + prendiClasse($(this))).hasClass('vector')) {
                            $('.target.' + prendiClasse($(this))).append('<span class="vectorNumber">' + ($('.target.' + prendiClasse($(this))).attr('id').substr(3))) 
                        }
                    }
            });
        });
    </script>
    </head>
    <body>
        {{ content }}
    </body>
</html>
